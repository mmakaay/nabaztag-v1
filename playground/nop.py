#!/usr/bin/env python3

# This is the original nop.bin

app = [
    0x70, 0xAC, 0x00, 0x5C, 0xAC, 0x00, 0x4B, 0xB2, 0xB0, 0xAC,
    0x00, 0x2A, 0xAC, 0x00, 0x2D, 0x7E, 0x4B, 0xAC, 0x00, 0x3C,
    0x7E, 0x0F, 0x9C, 0x00, 0x1D, 0x7F, 0x03, 0xAD, 0x86, 0x03,
    0x01, 0xFF, 0xA8, 0x01, 0x05, 0x0F, 0x04, 0x00, 0xA7, 0x45,
    0x7E, 0x01, 0xAD, 0x00, 0x00, 0x01, 0xFF, 0xA8, 0x01, 0x05,
    0x0F, 0x04, 0x00, 0xA7, 0x45, 0x7E, 0x01, 0xAD, 0x04, 0x03,
    0xA7, 0x45, 0x04, 0x02, 0xA7, 0x45, 0x04, 0x01, 0xA7, 0x45,
    0x04, 0x04, 0xA7, 0x45, 0xAD, 0x00, 0x00, 0x01, 0x00, 0xAE,
    0x01, 0x00, 0x01, 0x01, 0x00, 0xAE, 0x01, 0xAD
]

# ----------------------------------------------------------------------

from nabaztag.bytecode import Response, BytecodeFrame

bytecode = BytecodeFrame(program_code=app)
response = Response().add(bytecode)
message = response.build()

with open("nop.bin", "wb") as f:
    f.write(bytes(message))
